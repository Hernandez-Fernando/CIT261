<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>JSON - Parse and Stringify</title>
<title>Prototype</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">
		<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.min.css">
        <link rel="stylesheet" href="styles/main.css">
<script type="text/JavaScript">
var request = new XMLHttpRequest();
var requestURL = 'https://mdn.github.io/learning-area/javascript/oojs/json/superheroes.json';

request.onreadystatechange = function() {
    if (this.readyState == 4 && this.status == 200) {
        var text = JSON.parse(this.responseText);
		test(text);
    }
};

request.open('GET', requestURL, true);
request.send();

function test(obj) {
	var myObj = obj;
	document.getElementById('test').innerHTML = myObj.squadName;
	var key = "Madame Uppercut";
	if (myObj.members[1].name == key) {
		document.getElementById('test2').innerHTML = key;
	}
	else {
		document.getElementById('test2').innerHTML = "No Name Found"
	}

}

var myJSON = {"area":"CIT", "code":"261", "room":"03", "active":"true"};

function sendJSON() {
	var jsonFile = JSON.stringify(myJSON);
	document.getElementById('test3').innerHTML = jsonFile;
}
</script> 
</head>
<body>
		<header>
			<a href="index.html"><img src="images/github.png" alt="GitHub Logo"></a>
			<h1><a href="index.html">Fernando Hernandez</a></h1>
		</header>
		<nav>
			<ul>
				<li><a href="index.html">Home  &gt;</a></li>
				<li>Topic 3  &gt;</li>
				<li>File 1  &gt;</li>
				<li>json.html</li>
			</ul>
		</nav>
		<main>
	<h2>JSON & HttpRequest</h2>
	<p>Click the Following button to display the variable that was converted to JSON string by the method JSON.stringify()</p>
	<button type="button" onclick="sendJSON()">Send</button>
	<div id="test3"></div>
	<p>Some auto values from the server will appear in here:</p>
	<div id="test"></div>
	<div id="test2"></div>
	</main>
<footer>
			<p id="copy">&#169; 2017 - Fernando Hernandez - Location: Arizona - <a href="http://www.byui.edu/online" target="_blank">BYU-Idaho</a></p>
		</footer>
</body>
</html>