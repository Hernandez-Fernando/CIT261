<!DOCTYPE HTML>
<html>
<head>
<meta charset="UTF-8">
<title>DOM Manipulation</title>
<style>
#indexBox {
	display: none;
}

#change {
	background-color: #33ccff;
	padding: 10px;
	margin: 0;
}

#new {
	background-color: #666699;
	color: white;
	padding: 10px;
	margin: 0;
	
}

#add {
	background-color: #ffa64d;
	color: white;
	padding: 10px;
	margin: 0;
	
}

#del {
	background-color: #ff3333;
	color: white;
	padding: 10px;
	margin: 0;
	
}
</style>

<script type="text/JavaScript">
//Changing Elements text.
function elementChanging() {
	var text = document.getElementById('insertTextBox').value;
	var options = document.getElementsByName('option');
	var checked = 3;
	for(var i = 0; i < options.length; i++){
    if(options[i].checked) {
        checked = i;
    }
}


switch (checked) {
	case 0:
		document.getElementById('output').innerHTML = text;
		document.getElementById('errorBox').innerHTML = "";
		break;
	case 1:
		var x = document.getElementsByClassName('getClass');
		for (i = 0; i < x.length; i++) {
		x[i].innerHTML = text;
	}
	document.getElementById('errorBox').innerHTML = "";
		break;
	case 2:
		var x = document.getElementsByTagName('p');
		var index = parseInt(document.getElementById('indexBox').value);
		x[index].innerHTML = text;
		document.getElementById('errorBox').innerHTML = "";
		break;
	case 3:
		document.getElementById('errorBox').innerHTML = "Please select an option from below";
		document.getElementById('errorBox').style.color = 'red';
}
}

//Creating New Elements
function elementCreation() {
	//Get the name tag to create
var element = document.createElement(document.getElementById('tagNameBox').value);
//Get the node for the new element.
var elementValue = document.createTextNode(document.getElementById('elementValueBox').value);

//Asign the node to the new element.
element.appendChild(elementValue);

//Add the element to the document & display to the user.
var creation = document.getElementById('creationStation');
creation.appendChild(element);
}

//Adding Elements
function adding() {
	var item = document.createElement('li');
	var text = document.createTextNode(document.getElementById('addingTextBox').value);
	item.appendChild(text);
	
	var list = document.getElementById('list');
	var addIndex = parseInt(document.getElementById('addIndexBox'));
	list.insertBefore(item, list.childNodes[addIndex]);
}


//Deleting Elements
function deleting() {
	var list = document.getElementById('list');
	var index = parseInt(document.getElementById('addIndexBox').value);
	
	list.removeChild(list.childNodes[0]);
}
</script>

</head>

<body>
<h1>DOM Manipulation</h1>
<section id="change">
	
<h2>Change text in elements</h2>
<form>
Insert a text <input type="text" id="insertTextBox">
<h4>Select paragraph by:</h4><p id="errorBox"></p>
	<input type="radio" name="option" value="0" onclick="document.getElementById('indexBox').style.display = 'none'"> by Id
<input type="radio" name="option" value="1" onclick="document.getElementById('indexBox').style.display = 'none'"> by Class
<input type="radio" name="option" value="2" onclick="document.getElementById('indexBox').style.display = 'block'"> by Tag Name
<input type="text" id="indexBox" placeholder="Index Number (0-4)">
<button type="button" onclick="elementChanging()">Change Text</button>
</form>

<div id="changingStation">
<h3>This paragraph has an id:</h3>
<p id="output">You can change my text using the 'id' option, or Tag Name - index 0</p>
<h3>These paragraphs have the same class:</h3>
<p class="getClass">We have the same Class</p>
<p class="getClass">We have the same Class</p>
<p class="getClass">We have the same Class</p>
<h3>Next paragraph doesn't have a class or id:</h3>
<p>You can change my text using the Tag Name option - index 4</p>
</div>

</section>

<section id="new">

<h2>Create new elements</h2>
<p>Select the element you want to create, the value, and press create.</p>
Insert a tag name <input type="text" id="tagNameBox">
Insert a value <input type="text" id="elementValueBox">
<button type="button" onclick="elementCreation()">Create</button>

<div id="creationStation"></div>
</section>

<section id="add">
	<h2>Adding elements or Deleting Elements</h2>
	Insert text to add to the list <input type="text" id="addingTextBox">
	Index <input type="text" id="addIndexBox">
	<button type="button" onclick="adding()">Add</button>
		<button type="button" onclick="deleting()">Delete</button>
	<ul id="list">
		<li>First Item (Index 0)</li>
		<li>Second Item (Index 1)</li>
		<li>Third Item (Index 2)</li>
		<li>Forth Item (Index 3)</li>
	</ul>
</section>


</body>
</html>